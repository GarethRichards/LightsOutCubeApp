<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">

    <!-- Mesh geometries for cube sides and central cube -->
    <MeshGeometry3D x:Key="myCube" 
     TriangleIndices="0,1,2 3,4,5 6,7,8 9,10,11 12,13,14 15,16,17 18,19,20 21,22,23 24,25,26 27,28,29 30,31,32 33,34,35 "

Normals="0,0,-1 0,0,-1 0,0,-1 0,0,-1 0,0,-1 0,0,-1 0,0,1 0,0,1 0,0,1 0,0,1 0,0,1 0,0,1 0,-1,0 0,-1,0 0,-1,0 0,-1,0 0,-1,0 0,-1,0 1,0,0 1,0,0 1,0,0 1,0,0 1,0,0 1,0,0 0,1,0 0,1,0 0,1,0 0,1,0 0,1,0 0,1,0 -1,0,0 -1,0,0 -1,0,0 -1,0,0 -1,0,0 -1,0,0 "

TextureCoordinates="1,1
                    1,0
                    0,0
                    0,0 
                    0,1 
                    1,1 
                    0,1 
                    1,1 
                    1,0 1,0 0,0 0,1 0,1 1,1 1,0 1,0 0,0 0,1 1,1 1,0 0,0 0,0 0,1 1,1 1,0 0,0 0,1 0,1 1,1 1,0 0,0 0,1 1,1 1,1 1,0 0,0 "

Positions="-0.5,-0.5,-0.5 
           -0.5,0.5,-0.5 
           0.5,0.5,-0.5
           0.5,0.5,-0.5 
           0.5,-0.5,-0.5 
           -0.5,-0.5,-0.5 
           -0.5,-0.5,0.5 
           0.5,-0.5,0.5 
           0.5,0.5,0.5 
           0.5,0.5,0.5 
           -0.5,0.5,0.5 
           -0.5,-0.5,0.5 
           -0.5,-0.5,-0.5 
           0.5,-0.5,-0.5 
           0.5,-0.5,0.5 
           0.5,-0.5,0.5 
           -0.5,-0.5,0.5 
           -0.5,-0.5,-0.5 
           0.5,-0.5,-0.5 
           0.5,0.5,-0.5 
           0.5,0.5,0.5 
           0.5,0.5,0.5 
           0.5,-0.5,0.5 
           0.5,-0.5,-0.5 
           0.5,0.5,-0.5 
           -0.5,0.5,-0.5 
           -0.5,0.5,0.5 
           -0.5,0.5,0.5 
           0.5,0.5,0.5 
           0.5,0.5,-0.5 
           -0.5,0.5,-0.5 
           -0.5,-0.5,-0.5 
           -0.5,-0.5,0.5 
           -0.5,-0.5,0.5 
           -0.5,0.5,0.5 
           -0.5,0.5,-0.5"
/>

    <MeshGeometry3D x:Key="CubeSide01"
      TriangleIndices="0,1,2 3,4,5 "
      Normals="-1,0,0 -1,0,0 -1,0,0 -1,0,0 -1,0,0 -1,0,0 "
      TextureCoordinates="0,1 1,1 1,0 1,0 0,0 0,1 "
      Positions="-0.5,0.5,-0.5 -0.5,-0.5,-0.5 -0.5,-0.5,0.5 -0.5,-0.5,0.5 -0.5,0.5,0.5 -0.5,0.5,-0.5 " />

    <MeshGeometry3D x:Key="CubeSide02"
      TriangleIndices="0,1,2 3,4,5 "
      Normals="0,0,1 0,0,1 0,0,1 0,0,1 0,0,1 0,0,1 "
      TextureCoordinates="1,1 1,0 0,0 0,0 0,1 1,1 "
      Positions="-0.5,-0.5,0.5 0.5,-0.5,0.5 0.5,0.5,0.5 0.5,0.5,0.5 -0.5,0.5,0.5 -0.5,-0.5,0.5 " />

    <MeshGeometry3D x:Key="CubeSide03"
      TriangleIndices="0,1,2 3,4,5 "
      Normals="1,0,0 1,0,0 1,0,0 1,0,0 1,0,0 1,0,0 "
      TextureCoordinates="0,1 1,1 1,0 1,0 0,0 0,1 "
      Positions="0.5,-0.5,-0.5 0.5,0.5,-0.5 0.5,0.5,0.5 0.5,0.5,0.5 0.5,-0.5,0.5 0.5,-0.5,-0.5 " />

    <MeshGeometry3D x:Key="CubeSide04"
      TriangleIndices="0,1,2 3,4,5 "
      Normals="0,0,-1 0,0,-1 0,0,-1 0,0,-1 0,0,-1 0,0,-1 "
      TextureCoordinates="1,0 0,0 0,1 0,1 1,1 1,0 "
      Positions="-0.5,-0.5,-0.5 -0.5,0.5,-0.5 0.5,0.5,-0.5 0.5,0.5,-0.5 0.5,-0.5,-0.5 -0.5,-0.5,-0.5 " />

    <MeshGeometry3D x:Key="CubeSide05"
      TriangleIndices="0,1,2 3,4,5 "
      Normals="0,1,0 0,1,0 0,1,0 0,1,0 0,1,0 0,1,0 "
      TextureCoordinates="0,1 1,1 1,0 1,0 0,0 0,1  "
      Positions="0.5,0.5,-0.5 -0.5,0.5,-0.5 -0.5,0.5,0.5  -0.5,0.5,0.5 0.5,0.5,0.5 0.5,0.5,-0.5  " />

    <MeshGeometry3D x:Key="CubeSide06"
      TriangleIndices="0,1,2 3,4,5 "
      Normals="0,-1,0 0,-1,0 0,-1,0 0,-1,0 0,-1,0 0,-1,0 "
      TextureCoordinates="0,0 0,1 1,1 1,1 1,0 0,0 "
      Positions="-0.5,-0.5,0.5 -0.5,-0.5,-0.5 0.5,-0.5,-0.5  0.5,-0.5,-0.5 0.5,-0.5,0.5 -0.5,-0.5,0.5" />


    <!-- Materials (image brushes) for cube sides -->
    <MaterialGroup x:Key="Side1Material">
        <DiffuseMaterial>
            <DiffuseMaterial.Brush>
                <ImageBrush Stretch="UniformToFill" ImageSource="Side1.png" TileMode="None" ViewportUnits="Absolute" Viewport="0 0 1 1" AlignmentX="Left" AlignmentY="Top" Opacity="1" />
            </DiffuseMaterial.Brush>
        </DiffuseMaterial>
    </MaterialGroup>

    <MaterialGroup x:Key="Side2Material">
        <DiffuseMaterial>
            <DiffuseMaterial.Brush>
                <ImageBrush Stretch="UniformToFill" ImageSource="Side3.png" TileMode="None" ViewportUnits="Absolute" Viewport="0 0 1 1" AlignmentX="Left" AlignmentY="Top" Opacity="1" />
            </DiffuseMaterial.Brush>
        </DiffuseMaterial>
    </MaterialGroup>

    <MaterialGroup x:Key="Side3Material">
        <DiffuseMaterial>
            <DiffuseMaterial.Brush>
                <ImageBrush Stretch="UniformToFill" ImageSource="Side5.png" TileMode="None" ViewportUnits="Absolute" Viewport="0 0 1 1" AlignmentX="Left" AlignmentY="Top" Opacity="1" />
            </DiffuseMaterial.Brush>
        </DiffuseMaterial>
    </MaterialGroup>

    <MaterialGroup x:Key="Side4Material">
        <DiffuseMaterial>
            <DiffuseMaterial.Brush>
                <ImageBrush Stretch="UniformToFill" ImageSource="Side4.png" TileMode="None" ViewportUnits="Absolute" Viewport="0 0 1 1" AlignmentX="Left" AlignmentY="Top" Opacity="1" />
            </DiffuseMaterial.Brush>
        </DiffuseMaterial>
    </MaterialGroup>

    <MaterialGroup x:Key="Side5Material">
        <DiffuseMaterial>
            <DiffuseMaterial.Brush>
                <ImageBrush Stretch="UniformToFill" ImageSource="Side6.png" TileMode="None" ViewportUnits="Absolute" Viewport="0 0 1 1" AlignmentX="Left" AlignmentY="Top" Opacity="1" />
            </DiffuseMaterial.Brush>
        </DiffuseMaterial>
    </MaterialGroup>

    <MaterialGroup x:Key="Side6Material">
        <DiffuseMaterial>
            <DiffuseMaterial.Brush>
                <ImageBrush Stretch="UniformToFill" ImageSource="Side2.png" TileMode="None" ViewportUnits="Absolute" Viewport="0 0 1 1" AlignmentX="Left" AlignmentY="Top" Opacity="1" />
            </DiffuseMaterial.Brush>
        </DiffuseMaterial>
    </MaterialGroup>

    <MaterialGroup x:Key="TransparentMaterial">
    </MaterialGroup>

    <!-- Reusable model group for the cube (now self-contained) -->
    <Model3DGroup x:Key="CubeModelGroup">
        <!-- Lighting -->
        <DirectionalLight Color="White" Direction="0,0,1" />

        <!-- Six sides as GeometryModel3D elements -->
        <GeometryModel3D Geometry="{StaticResource CubeSide01}" Material="{StaticResource Side1Material}" />
        <GeometryModel3D Geometry="{StaticResource CubeSide02}" Material="{StaticResource Side2Material}" />
        <GeometryModel3D Geometry="{StaticResource CubeSide03}" Material="{StaticResource Side3Material}" />
        <GeometryModel3D Geometry="{StaticResource CubeSide04}" Material="{StaticResource Side4Material}" />
        <GeometryModel3D Geometry="{StaticResource CubeSide05}" Material="{StaticResource Side5Material}" />
        <GeometryModel3D Geometry="{StaticResource CubeSide06}" Material="{StaticResource Side6Material}" />

        <!-- central cube mesh (transparent material used in main view) -->
        <GeometryModel3D Geometry="{StaticResource myCube}" Material="{StaticResource TransparentMaterial}" />
    </Model3DGroup>

    <ModelVisual3D x:Key="Cube3DModel">
        <ModelVisual3D.Children>
            <ModelVisual3D>
                <ModelVisual3D.Content>
                    <GeometryModel3D Geometry="{StaticResource CubeSide01}" Material="{StaticResource Side1Material}"/>
                </ModelVisual3D.Content>
            </ModelVisual3D>
            <ModelVisual3D>
                <ModelVisual3D.Content>
                    <GeometryModel3D Geometry="{StaticResource CubeSide02}" Material="{StaticResource Side2Material}"/>
                </ModelVisual3D.Content>
            </ModelVisual3D>
            <ModelVisual3D>
                <ModelVisual3D.Content>
                    <GeometryModel3D Geometry="{StaticResource CubeSide03}" Material="{StaticResource Side3Material}"/>
                </ModelVisual3D.Content>
            </ModelVisual3D>
            <ModelVisual3D>
                <ModelVisual3D.Content>
                    <GeometryModel3D Geometry="{StaticResource CubeSide04}" Material="{StaticResource Side4Material}"/>
                </ModelVisual3D.Content>
            </ModelVisual3D>
            <ModelVisual3D>
                <ModelVisual3D.Content>
                    <GeometryModel3D Geometry="{StaticResource CubeSide05}" Material="{StaticResource Side5Material}"/>
                </ModelVisual3D.Content>
            </ModelVisual3D>
            <ModelVisual3D>
                <ModelVisual3D.Content>
                    <GeometryModel3D Geometry="{StaticResource CubeSide06}" Material="{StaticResource Side6Material}"/>
                </ModelVisual3D.Content>
            </ModelVisual3D>
            <ModelVisual3D>
                <ModelVisual3D.Content>
                    <GeometryModel3D Geometry="{StaticResource myCube}"  Material="{StaticResource TransparentMaterial}"/>
                </ModelVisual3D.Content>
            </ModelVisual3D>
        </ModelVisual3D.Children>

        <ModelVisual3D.Transform>
            <Transform3DGroup>
                <ScaleTransform3D ScaleX="{Binding CubeSize}" ScaleY="{Binding CubeSize}" ScaleZ="{Binding CubeSize}" />
            </Transform3DGroup>
        </ModelVisual3D.Transform>
    </ModelVisual3D>
</ResourceDictionary>
