<UserControl x:Class="LightsOutCube.Controls.CubeViewportControl"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:m3d="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:controls="clr-namespace:LightsOutCube.Controls"
             Width="100" Height="100">
    <Grid>
        <Viewport3D x:Name="PART_Viewport" ClipToBounds="True">
            <Viewport3D.Camera>
                <PerspectiveCamera x:Name="PART_Camera"
                                   Position="0,0,-8"
                                   UpDirection="-1,0,0"
                                   LookDirection="0,0,1"
                                   FieldOfView="45"
                                   NearPlaneDistance="0.125" />
            </Viewport3D.Camera>

            <!-- lighting -->
            <ModelVisual3D>
                <ModelVisual3D.Content>
                    <Model3DGroup>
                        <DirectionalLight Color="White" Direction="0,0,1" />
                    </Model3DGroup>
                </ModelVisual3D.Content>
            </ModelVisual3D>

            <!-- rotating visual root -->
            <ModelVisual3D>
                <ModelVisual3D.Transform>
                    <Transform3DGroup>
                        <RotateTransform3D>
                            <RotateTransform3D.Rotation>
                                <AxisAngleRotation3D x:Name="PART_Rotation" Axis="0,1,0" Angle="0" />
                            </RotateTransform3D.Rotation>
                        </RotateTransform3D>

                        <ScaleTransform3D x:Name="PART_Scale" ScaleX="1" ScaleY="1" ScaleZ="1" />
                    </Transform3DGroup>
                </ModelVisual3D.Transform>

                <ModelVisual3D.Children>
                    <!-- Reuse the shared model group resource that lives in App resources -->
                    <ModelVisual3D>
                        <ModelVisual3D.Content>
                            <StaticResource ResourceKey="CubeModelGroup" />
                        </ModelVisual3D.Content>
                    </ModelVisual3D>
                </ModelVisual3D.Children>
            </ModelVisual3D>
        </Viewport3D>
    </Grid>
</UserControl>
